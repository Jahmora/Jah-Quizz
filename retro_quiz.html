<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizz Rétro Gaming</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        /* Styles de base */
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #000;
            background-image: url('background.png');
            color: #00FF00;
            text-align: center;
            padding: 5vh;
            background-size: cover;
            overflow: hidden;
        }
        .crt {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.05) 1%, transparent 100%);
            background-repeat: repeat-x;
            background-size: 100% 3px;
            z-index: 2;
        }
        .intro, .game-container {
            display: none;
            border: 5px solid #00FF00;
            padding: 2vh 2vw;
            margin-top: 2vh;
            background-color: rgba(0, 0, 0, 0.7);
        }
        .show {
            display: block !important;
        }
        .question {
            font-size: 3vh;
            margin-bottom: 2vh;
        }
        .avatar {
            width: 20vw;
            height: 20vw;
            max-width: 100px;
            max-height: 100px;
            margin: 0 auto 2vh;
            border-radius: 50%;
            background-image: url('IA avatar.png');
            background-size: cover;
            border: 2px solid #00FF00;
        }
        .choices button {
            width: 80%;
            margin: 2vh auto;
            padding: 2vh;
            font-size: 2vh;
            cursor: pointer;
            background-color: #000;
            color: #00FF00;
            border: 2px solid #00FF00;
            border-radius: 5px;
            transition: transform 0.1s, background-color 0.2s;
        }
        .choices button:hover {
            transform: scale(1.1);
            background-color: #00FF00;
            color: #000;
        }
        .result {
            font-size: 2vh;
            margin-top: 2vh;
        }
        
        /* Adaptation pour petits écrans */
        @media (max-width: 768px) {
            body {
                padding: 2vh;
            }
            .question {
                font-size: 4vw;
            }
            .avatar {
                width: 40vw;
                height: 40vw;
            }
            .choices button {
                font-size: 4vw;
                width: 90%;
            }
        }
    </style>
    <script>
        const questions = {
            "fr": {
                "Facile": [
                    {"question": "Quel est le personnage principal de Super Mario?", "choices": ["Luigi", "Mario", "Peach"], "answer": 1},
                    {"question": "En quelle année le jeu Pac-Man est-il sorti?", "choices": ["1980", "1985", "1990"], "answer": 0}
                ],
                "Moyen": [
                    {"question": "Sur quelle console est sorti le jeu Sonic the Hedgehog?", "choices": ["NES", "SNES", "Sega Genesis"], "answer": 2},
                    {"question": "Combien de lignes faut-il effacer pour faire un Tetris?", "choices": ["2", "3", "4"], "answer": 2}
                ],
                "Difficile": [
                    {"question": "Quel est le boss final du jeu 'The Legend of Zelda: Ocarina of Time'?", "choices": ["Ganon", "Ganondorf", "Zant"], "answer": 1},
                    {"question": "Dans quel jeu apparaît le personnage de 'M. Bison'?", "choices": ["Street Fighter", "Mortal Kombat", "Tekken"], "answer": 0}
                ]
            }
        };

        const correctSound = new Audio('correct.mp3'); // Son pour réponse correcte
        const incorrectSound = new Audio('incorrect.mp3'); // Son pour réponse incorrecte
        const introSound = new Audio('intro.mp3'); // Son pour l'intro

        function detectLanguage() {
            const userLang = navigator.language || navigator.userLanguage;
            return userLang.includes('fr') ? 'fr' : 'en';
        }

        function showIntro() {
            introSound.play();
            document.querySelector('.intro').classList.add('show');
            setTimeout(() => {
                document.querySelector('.intro').classList.remove('show');
                document.querySelector('.game-container').classList.add('show');
            }, 5000);
        }

        function showQuestion(level) {
            const lang = detectLanguage();
            const question = questions[lang][level][Math.floor(Math.random() * questions[lang][level].length)];
            document.getElementById('question').innerText = question.question;
            document.getElementById('choices').innerHTML = '';
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.innerText = choice;
                button.onclick = () => checkAnswer(index, question.answer, level);
                document.getElementById('choices').appendChild(button);
            });
        }

        function checkAnswer(selected, correct, level) {
            const result = document.getElementById('result');
            if (selected === correct) {
                correctSound.play();
                result.innerText = 'Correct!';
            } else {
                incorrectSound.play();
                result.innerText = 'Incorrect!';
            }
            setTimeout(() => showQuestion(level), 2000);
        }

        window.onload = function() {
            showIntro();
            document.getElementById('start').onclick = function() {
                const level = document.getElementById('level').value;
                showQuestion(level);
            };
        };
    </script>
</head>
<body>
    <div class="crt"></div>
    <div class="intro">
        <img src="intro_image.png" alt="Intro" style="width: 100%; max-width: 600px;">
        <p>Studio Jahmora Production</p>
    </div>
    <div class="game-container">
        <div class="avatar"></div> <!-- Avatar de l'IA -->
        <label for="level">Choisissez un niveau :</label>
        <select id="level">
            <option value="Facile">Facile</option>
            <option value="Moyen">Moyen</option>
            <option value="Difficile">Difficile</option>
        </select>
        <button id="start">Commencer</button>
        <div class="question" id="question"></div>
        <div class="choices" id="choices"></div>
        <div class="result" id="result"></div>
    </div>
</body>
</html>
